(function(e){function t(t){for(var o,a,i=t[0],u=t[1],c=t[2],f=0,d=[];f<i.length;f++)a=i[f],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var u=n[i];0!==s[u]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},s={app:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0930":function(e,t,n){},"303c":function(e,t,n){},"341f":function(e,t,n){},4611:function(e,t,n){"use strict";n("0930")},"528a":function(e,t,n){"use strict";n("341f")},"56d7":function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var o=n("2b0e"),s=(n("d3b7"),n("bc3a")),r=n.n(s),a={},i=r.a.create(a);i.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=i,window.axios=i,Object.defineProperties(e.prototype,{axios:{get:function(){return i}},$axios:{get:function(){return i}}})},o["default"].use(Plugin);Plugin;var u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1)},c=[],l=(n("f9e3"),n("2dd8"),{}),f=l,d=(n("034f"),n("2877")),g=Object(d["a"])(f,u,c,!1,null,null,null),m=g.exports,p=n("8c4f"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Wprowadz kod autoryzacyjny:")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.auth()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.authKey,expression:"authKey"}],attrs:{type:"text",name:"",id:""},domProps:{value:e.authKey},on:{input:function(t){t.target.composing||(e.authKey=t.target.value)}}}),n("input",{attrs:{type:"submit",name:"",id:""}}),n("p",{staticClass:"error"},[e._v(" "+e._s(e.info)+" ")])])])},b=[],w=n("a6f4"),h=(n("99af"),n("caad6"),n("ac1f"),n("2532"),n("1276"),{local:"http://localhost:9090",prod:"https://de157b9e2a59.ngrok.io"}),_=function(e){return e.location.href.includes("localhost")?h.local:h.prod},y=function(){return document.cookie.split(";")},j=function(e){localStorage.setItem("user",JSON.stringify(e))},C=function(){return JSON.parse(localStorage.getItem("user"))},O={setup:function(e,t){var n=t.root,o=n.$axios,s=n.$router,r=Object(w["c"])(""),a=Object(w["c"])(""),i=function(){o.post("".concat(_(window),"/auth"),{authKey:r.value,type:"user"}).then((function(e){if(console.log(e),200===e.status){var t=new Date;t.setTime(t.getTime()+2592e5);var n="; expires=".concat(t.toUTCString());document.cookie="bot_auth = true ".concat(n,"; path=/"),s.push("/bot")}})).catch((function(e){a.value=e.response.data.msg}))};return{authKey:r,auth:i,info:a}}},k=O,S=(n("cccb"),Object(d["a"])(k,v,b,!1,null,null,null)),x=S.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showInterface?n("div",{staticClass:"container"},[n("header",[n("h1",[e._v("LinkedIn Message Bot")]),n("div",[e._v("status"),n("span",{class:{"status--on":e.runBotState}})])]),n("login-form"),n("configuration-form"),n("button",{staticClass:"btn-lg",class:e.runBotState?"btn-danger":"btn-success",on:{click:function(t){return e.runBot()}}},[e._v(e._s(e.runBotState?"Stop":"Start"))]),n("logs")],1):e._e()},$=[],P=(n("4de4"),n("5530")),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logs"},[e.logs.length>0?n("div",{staticClass:"logs__wrap",attrs:{id:"logs"}},e._l(e.logs,(function(t,o){return n("div",{key:o,staticClass:"log",class:"info"===t.type?"log--info":"log--error"},[e._v(" "+e._s(t.message)+" "),n("span",[e._v(e._s(new Date(t.createdAt).toLocaleTimeString()))])])})),0):e._e()])},M=[],B=n("b71a"),K=n.n(B),N={setup:function(e,t){var n=t.root,o=n.$store,s=(n.$axios,Object(w["a"])((function(){return o.getters["getLogs"]})));return Object(w["d"])(s,(function(){document.querySelector("#logs")&&(document.querySelector("#logs").scrollTop=-document.querySelector("#logs").scrollHeight)})),{logs:s}}},T=N,E=(n("d176"),Object(d["a"])(T,z,M,!1,null,null,null)),I=E.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("div",{staticClass:"input-wrapper"},[n("label",{attrs:{for:"login"}},[e._v("Email / numer telefonu")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.login,expression:"user.login"}],staticClass:"login",attrs:{type:"text",id:"login"},domProps:{value:e.user.login},on:{input:[function(t){t.target.composing||e.$set(e.user,"login",t.target.value)},function(t){return e.$store.commit("setLogin",t.target.value)}]}})]),n("div",{staticClass:"input-wrapper"},[n("label",{attrs:{for:"passwd"}},[e._v("Hasło")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"login",attrs:{type:"password",id:"passwd"},domProps:{value:e.user.password},on:{input:[function(t){t.target.composing||e.$set(e.user,"password",t.target.value)},function(t){return e.$store.commit("setPassword",t.target.value)}]}})])])},D=[],W={name:"form-login",setup:function(e,t){var n=t.root.$store;C()&&n.commit("setUser",C());var o=Object(w["c"])(n.state.user);return{user:o}}},q=W,F=(n("528a"),Object(d["a"])(q,A,D,!1,null,null,null)),J=F.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"configuration"},[n("section",[n("header",[e._v(" Konfiguracja ")]),n("div",{staticClass:"input-wrapper"},[n("label",{attrs:{for:"gender"}},[e._v("Wysyłaj do:")]),n("select",{attrs:{type:"select",id:"gender"},on:{input:function(t){return e.$store.commit("setGender",t.target.value)}}},[n("option",{staticStyle:{display:"none"},attrs:{value:"null"}},[e._v("wybierz pleć")]),n("option",{attrs:{value:"male"}},[e._v("Męzczyzn")]),n("option",{attrs:{value:"female"}},[e._v("Kobiet")]),n("option",{attrs:{value:"all"}},[e._v("Kazdego")])])]),n("div",{staticClass:"input-wrapper"},[n("label",{attrs:{for:"gender"}},[e._v("Wybierz region:")]),n("div",{staticClass:"regions"},[n("ul",{staticClass:"list"},e._l(e.$store.state.runConfig.regions,(function(t){return n("li",{key:t.name,staticClass:"list-item",class:{"list-item--selected":t.selected},on:{click:function(n){return e.$store.commit("toggleRegion",t.name)}}},[e._v(" "+e._s(t.name)+" ")])})),0),n("div",{staticClass:"selected-regions"},e._l(e.$store.state.runConfig.regions.filter((function(e){return!0===e.selected})),(function(t){return n("span",{key:t.name},[e._v(" "+e._s(t.name)+", ")])})),0)])]),n("div",{staticClass:"input-wrapper"},[n("label",{attrs:{for:"message"}},[e._v("Wiadomość")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],attrs:{name:"",id:"message"},domProps:{value:e.msg},on:{input:function(t){t.target.composing||(e.msg=t.target.value)}}})]),n("div",{staticClass:"input-wrapper"},[n("label",{attrs:{for:"followup-message"}},[e._v("Wiadomość follow up")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.fmsg,expression:"fmsg"}],attrs:{name:"",id:"followup-message"},domProps:{value:e.fmsg},on:{input:function(t){t.target.composing||(e.fmsg=t.target.value)}}})]),n("div",{staticClass:"input-wrapper"},[n("label",{attrs:{for:"message-count"}},[e._v("Ile wiadomości wysłać?")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.msgL,expression:"msgL"}],attrs:{type:"number",id:"message-count"},domProps:{value:e.msgL},on:{input:function(t){t.target.composing||(e.msgL=t.target.value)}}})])])])},R=[],U={setup:function(e,t){var n=t.root.$store,o=Object(w["a"])({get:function(){return n.state.runConfig.message},set:function(e){n.commit("setMessage",e)}}),s=Object(w["a"])({get:function(){return n.state.runConfig.followupMessgae},set:function(e){n.commit("setFollowupMessage",e)}}),r=Object(w["a"])({get:function(){return n.state.runConfig.messagesLimit},set:function(e){n.commit("setmessagesLimit",e)}});return{msg:o,fmsg:s,msgL:r}}},G=U,Q=(n("4611"),Object(d["a"])(G,H,R,!1,null,null,null)),V=Q.exports,X={components:{LoginForm:J,Logs:I,ConfigurationForm:V},setup:function(e,t){var n=t.root,o=n.$axios,s=n.$store,r=Object(w["c"])(!1);"bot_auth=true"===y()[0]&&(r.value=!0);var a=Object(w["a"])((function(){return s.state.user})),i=Object(w["a"])((function(){var e=s.state.runConfig;return e.regions=e.regions.filter((function(e){return!0===e.selected})),e})),u=Object(w["a"])((function(){return s.state.botStarted})),c=function(){j(a.value),u.value?o.get("".concat(_(window),"/runner/stop")).then((function(e){console.log(e)})):o.post("".concat(_(window),"/runner/start"),Object(P["a"])(Object(P["a"])({},a.value),{},{runConfig:i.value})).then((function(e){})).catch((function(e){console.log(e)})),s.commit("toggleBotStarted")},l=function(){o.get("".concat(_(window),"/update")).then((function(e){s.commit("setBotStarted",e.data.botStatus),s.commit("updateLogs",e.data.logs)}))};return setInterval((function(){l()}),15e3),{showInterface:r,runBot:c,runBotState:u}}},Y=X,Z=(n("5715"),Object(d["a"])(Y,L,$,!1,null,null,null)),ee=Z.exports;o["default"].use(p["a"]);var te=[{path:"/",name:"Home",component:x},{path:"/bot",name:"Bot",component:ee}],ne=new p["a"]({routes:te}),oe=ne,se=(n("7db0"),n("d81d"),n("b0c0"),n("2909")),re=n("2f62");o["default"].use(re["a"]);var ae=new re["a"].Store({state:{user:{login:"",password:"",remember:!1},logs:[],lastApiLog:null,botStarted:!1,runConfig:{gender:null,regions:[{name:"dolnośląskie",selected:!1},{name:"kujawsko-pomorskie",selected:!1},{name:"lubelskie",selected:!1},{name:"lubuskie",selected:!1},{name:"łódzkie",selected:!1},{name:"małopolskie",selected:!1},{name:"mazowieckie",selected:!1},{name:"opolskie",selected:!1},{name:"podkarpackie",selected:!1},{name:"podlaskie",selected:!1},{name:"pomorskie",selected:!1},{name:"śląskie",selected:!1},{name:"świętokrzyskie",selected:!1},{name:"warmińsko-mazurskie",selected:!1},{name:"wielkopolskie",selected:!1},{name:"zachodniopomorskie",selected:!1}],message:"",followupMessage:"",messagesLimit:0}},mutations:{setUser:function(e,t){e.user=t},setLogin:function(e,t){e.user.login=t},setPassword:function(e,t){e.user.password=t},setRemember:function(e,t){e.user.remember=t},setGender:function(e,t){e.runConfig.gender=t},toggleRegion:function(e,t){var n=e.runConfig.regions.find((function(e){return e.name===t}));n.selected=!n.selected},setLastApiLog:function(e,t){e.lastApiLog=t},toggleBotStarted:function(e){e.botStarted=!e.botStarted},setBotStarted:function(e,t){e.botStarted=t},setMessage:function(e,t){e.runConfig.message=t},setFollowupMessage:function(e,t){e.runConfig.followupMessage=t},setmessagesLimit:function(e,t){e.runConfig.messagesLimit=t},updateLogs:function(e,t){if(e.logs.length<=1)e.logs=t;else{var n=K()([].concat(Object(se["a"])(e.logs),Object(se["a"])(t)),"_id");e.logs=n.sort((function(e,t){var n=new Date(e.createdAt),o=new Date(t.createdAt);return n-o}))}}},actions:{},getters:{getLogs:function(e){return e.logs.map((function(e){return e.date=new Date(e.date),e}))}},modules:{}});o["default"].config.productionTip=!1,o["default"].use(w["b"]),new o["default"]({router:oe,store:ae,render:function(e){return e(m)}}).$mount("#app")},5715:function(e,t,n){"use strict";n("303c")},"5ced":function(e,t,n){},"5d53":function(e,t,n){},"85ec":function(e,t,n){},cccb:function(e,t,n){"use strict";n("5ced")},d176:function(e,t,n){"use strict";n("5d53")}});
//# sourceMappingURL=app.be6737c5.js.map